<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Visualizador</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center">Dashboard Visualizador</h2>
        <button class="btn btn-danger" id="logout">Cerrar Sesión</button>

        <h3 class="mt-4">Tu Información</h3>
        <ul class="list-group mt-3">
            <li class="list-group-item"><strong>Nombre:</strong> <span id="name"></span></li>
            <li class="list-group-item"><strong>Correo:</strong> <span id="email"></span></li>
            <li class="list-group-item"><strong>Rol:</strong> <span id="role"></span></li>
        </ul>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loggedUser = JSON.parse(localStorage.getItem("loggedUser"));
            if (!loggedUser || loggedUser.role !== "visualizador") {
                alert("Acceso denegado");
                window.location.href = "login.html";
                return;
            }

            document.getElementById("name").textContent = loggedUser.name;
            document.getElementById("email").textContent = loggedUser.email;
            document.getElementById("role").textContent = loggedUser.role;
        });

        document.getElementById("logout").addEventListener("click", function () {
            localStorage.removeItem("loggedUser");
            window.location.href = "login.html";
        });
    </script>
</body>
</html>
